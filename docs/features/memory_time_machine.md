# 记忆时光机 (Memory Time Machine)

"记忆时光机"是 SilverLink 独特的情感化记忆训练功能，通过家庭相册连接长辈的过去与当下，预防认知衰退。

## 功能特性

### 1. 智能云相册
- **家人共建**：家属端可以上传老照片，并添加描述、标记时间地点等信息。
- **自动同步**：照片会自动同步到长辈端设备，形成专属的数字相册。
- **AI 智能标注**：
    - 集成 **Qwen-VL Plus** 视觉大模型。
    - 自动分析上传的照片，识别人物（爷爷/奶奶等）、场景（故宫/春节等）和事件。
    - 生成温馨的 AI 描述文本，辅助长辈回忆。

### 2. 记忆小游戏 (Cognitive Quiz)
- **个性化出题**：
    - 系统基于相册中的老照片，自动生成考察问题。
    - 拒绝枯燥的题库，每一道题都与长辈的亲身经历相关，更有温度。
- **题目类型**：
    - **人物识别**："照片里的这个人是谁？"
    - **地点回忆**："这张照片是在哪里拍的？"
    - **事件回忆**："这张照片记录的是什么事情？"
- **AI 智能评判**：
    - 使用大语言模型进行**语义模糊匹配**，不要求长辈死记硬背标准答案。
    - 例如：标准答案是"故宫"，长辈回答"北京皇宫"或"紫禁城"也会被判定为正确。
    - 给予即时反馈与鼓励（"太棒了！您的记忆力真好！"）。

### 3. 认知健康追踪
- **数据分析**：后台自动记录答题准确率、反应时间与置信度。
- **趋势报告**：
    - 生成周报/月报，分析长辈的认知能力变化趋势（提升/稳定/衰退）。
    - 帮助家属尽早发现阿兹海默症等认知障碍的早期迹象。

## 技术实现

- **PhotoAnalysisService**: 调用通义千问视觉模型（`qwen-vl-plus`），提取照片元数据 (people, location, description)。
- **CognitiveQuizService**:
    - 负责即时生成 Quiz 问题。
    - 调用 LLM 进行答案语义匹配 (`matchAnswerWithAI`)。
    - 计算认知健康指标 (`calculateTrend`).
- **MemorySyncService**: 负责照片文件的增量同步与本地缓存管理。

## 场景示例
1. 家人上传了一张2018年春节全家福。
2. AI 分析并标注：人物=[儿子, 孙子], 场景=餐厅, 标签=[春节, 团圆]。
3. 次日早晨，长辈端主动关怀时弹出该照片，并语音提问："王奶奶，您还记得这张照片是在哪里拍的吗？"
4. 长辈回答："这是那年过年在海鲜酒楼吃饭。"
5. AI 判定为"正确"（匹配场景描述），并夸奖长辈。
